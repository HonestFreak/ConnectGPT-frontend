import{r as d,a as e,F as x,j as r,B as N}from"./index-6d4a41d0.js";const z=()=>{const[l,k]=d.useState(null),[m,h]=d.useState(0),[f,b]=d.useState(!1),[t,c]=d.useState({name:"",personality:"",intent:"",no_answer:"",llm_model:"",emd_model:"",creativity:"",api_key:{openai:"",azurebase:"",azurekey:"",azuredeploy:"",cohere:""}}),p=localStorage.getItem("accessToken"),y=async(o,a)=>{try{const n=await fetch(`api/bots/update/${o}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`,Accept:"application/json"},body:JSON.stringify(a)});n.ok?(console.log("Bot updated successfully"),b(!0)):console.error("Error updating bot:",n.statusText)}catch(n){console.error("Error updating bot:",n)}},s=o=>{const{name:a,value:n}=o.target;a.includes("api")?c(i=>({...i,api_key:{...i.api_key,[a]:n}})):c(i=>({...i,[a]:n}))},u=o=>{o.preventDefault(),y(l.bots[m].id,t)},v=o=>{const a=o.target.selectedIndex;h(a),c(n=>({...n,name:l.bots[a].name,personality:l.bots[a].personality,intent:l.bots[a].intent,no_answer:l.bots[a].no_answer,llm_model:l.bots[a].llm_model,emd_model:l.bots[a].emd_model,creativity:l.bots[a].creativity,api_key:l.bots[a].api_key})),b(!1)},g=async()=>{try{const a=await(await fetch("api/users/userinfo",{method:"GET",headers:{Authorization:`Bearer ${p}`,Accept:"application/json"}})).json();k(a),console.log(a)}catch(o){console.error("Error fetching user info:",o)}};return d.useEffect(()=>{g()},[]),l&&l.bots?e(x,{children:r("div",{className:"mx-auto max-w-270",children:[e(N,{pageName:"Settings"}),r("div",{className:"grid grid-cols-5 gap-8",children:[e("div",{className:"col-span-5 xl:col-span-3",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[r("div",{className:"border-b  border-stroke py-4 px-4 dark:border-strokedark",children:[e("h3",{className:"font-medium text-black dark:text-white p-3",children:"ðŸ¤– Bot Settings"}),e("select",{name:"bot",value:m,onChange:v,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:l.bots.map((o,a)=>e("option",{name:o.name,value:a,children:o.name},a))})]}),r("div",{className:"p-7",children:[r("form",{onSubmit:u,children:[e("div",{className:"mb-5.5 flex flex-col gap-5.5 sm:flex-row",children:r("div",{className:"w-full",children:[e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"Bot's Name"}),e("div",{className:"relative",children:e("input",{className:"w-full rounded border border-stroke bg-gray py-3 px-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",value:t.name,onChange:s,id:"fullName",name:"name"})})]})}),r("div",{className:"mb-5.5",children:[e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"Username",children:"Personality"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("textarea",{className:"w-full rounded border border-stroke bg-gray py-3 pl-4.5 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",name:"personality",rows:6,placeholder:"Personality of bot ...",value:t.personality,onChange:s})]})]}),r("div",{className:"mb-5.5",children:[e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"Username",children:"Intent"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("textarea",{className:"w-full rounded border border-stroke bg-gray py-3 pl-4.5 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",name:"intent",rows:6,value:t.intent,onChange:s})]})]}),r("div",{className:"mb-5.5",children:[e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"Username",children:"Message when no result is found"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("textarea",{className:"w-full rounded border border-stroke bg-gray py-3 pl-4.5 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",name:"no_answer",rows:6,value:t.no_answer,onChange:s})]})]}),r("div",{className:"flex flex-col gap-5.5 ",children:[r("div",{children:[e("label",{className:"mb-3 block text-black dark:text-white",children:"LLM Model"}),e("div",{className:"relative z-20 bg-white dark:bg-form-input",children:r("select",{value:t.llm_model,name:"llm_model",onChange:s,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"openai gpt-4 credit",children:"OpenAI GPT-4 (from credits)"}),e("option",{value:"openai gpt-4-32k credit",children:"OpenAI GPT-4-32k (from credits)"}),e("option",{value:"openai gpt-3.5-turbo credit",children:"OpenAI GPT-3.5 Turbo (from credits)"}),e("option",{value:"openai gpt-4",children:"OpenAI GPT-4"}),e("option",{value:"openai gpt-4-32k",children:"OpenAI GPT-4-32k"}),e("option",{value:"openai gpt-3.5-turbo",children:"OpenAI GPT-3.5 Turbo"})]})})]}),r("div",{children:[e("label",{className:"mb-3 block text-black dark:text-white",children:"Embedding Model (change only if no data is trained yet)"}),e("div",{className:"relative z-20 bg-white dark:bg-form-input",children:r("select",{value:t.emd_model,name:"emd_model",onChange:s,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"default",children:"all-MiniLM-L6-v2 ( Default | free )"}),e("option",{value:"all-mpnet-base-v2",children:"all-mpnet-base-v2 (free)"}),e("option",{value:"all-MiniLM-L12-v2",children:"all-MiniLM-L12-v2 (free)"}),e("option",{value:"openai",children:"OpenAI ada-002"}),e("option",{value:"cohere-large",children:"Cohere Large"}),e("option",{value:"cohere-multilingual",children:"Cohere Multilingual"})]})})]}),r("div",{children:[e("label",{className:"mb-3 block text-black dark:text-white",children:"Creativity"}),e("div",{className:"relative z-20 bg-white dark:bg-form-input",children:r("select",{value:t.creativity,name:"creativity",onChange:s,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"0.5",children:"Balanced"}),e("option",{value:"0",children:"Precise"}),e("option",{value:"1",children:"Creative"})]})})]})]}),r("div",{className:"flex justify-end gap-4.5 py-3",children:[e("button",{className:"flex justify-center rounded border border-stroke py-2 px-6 font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white",type:"submit",children:"Cancel"}),e("button",{className:"flex justify-center rounded bg-primary py-2 px-6 font-medium text-gray hover:shadow-1",type:"submit",children:"Save"})]})]}),f&&r("div",{className:"mb-3 inline-flex py-5 text-success",role:"alert",children:[e("span",{className:"mr-2",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:e("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})}),"Bot Updated Successfully"]})]})]})}),e("div",{className:"col-span-5 xl:col-span-2",children:e("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:r("form",{onSubmit:u,children:[r("div",{className:"border-b  border-stroke py-4 px-4 dark:border-strokedark",children:[e("h3",{className:"font-mediumtext-black dark:text-white p-3",children:"ðŸ”‘ API Keys"}),r("div",{className:"w-full space-y-4",children:[e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"OpenAI API key"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-3 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"password",value:t.api_key.openai,onChange:s,name:"openaiapi"})]}),e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"Azure Base URL"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-3 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"password",id:"azurebase",name:"azurebaseapi",value:t.api_key.azurebase,onChange:s})]}),e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"Azure Key"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-3 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"password",id:"azurekey",name:"azurekeyapi",value:t.api_key.azurekey,onChange:s})]}),e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"Azure Deployment Name"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-3 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"password",id:"azuredeploy",name:"azuredeployapi",value:t.api_key.azuredeploy,onChange:s})]}),e("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"fullName",children:"Cohere API key"}),r("div",{className:"relative",children:[e("span",{className:"absolute left-4.5 top-4"}),e("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-3 pr-4.5 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"password",value:t.api_key.cohere,onChange:s,name:"cohereapi"})]})]})]}),e("div",{className:"flex justify-end gap-4.5 py-3 px-3",children:e("button",{className:"flex justify-center rounded bg-primary py-2 px-6 font-medium text-gray hover:shadow-1",type:"submit",children:"Save"})})]})})})]})]})}):null};export{z as default};
